<div class="container">
    <div class="row">
        <section>
            <div class="wizard">
                <div class="wizard-inner">
                    <div class="connecting-line"></div>
                    <ul class="nav nav-tabs" role="tablist">

                        <li role="presentation" class="active">
                            <a href="#step1" data-toggle="tab" aria-controls="step1" role="tab" title="Step 1">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-folder-open"></i>
                            </span>
                            </a>
                        </li>

                        <li role="presentation" class="disabled">
                            <a href="#step2" data-toggle="tab" aria-controls="step2" role="tab" title="Step 2">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-pencil"></i>
                            </span>
                            </a>
                        </li>
                        <li role="presentation" class="disabled">
                            <a href="#step3" data-toggle="tab" aria-controls="step3" role="tab" title="Step 3">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-picture"></i>
                            </span>
                            </a>
                        </li>

                        <li role="presentation" class="disabled">
                            <a href="#complete" data-toggle="tab" aria-controls="complete" role="tab" title="Complete">
                            <span class="round-tab">
                                <i class="glyphicon glyphicon-ok"></i>
                            </span>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="row main">
                    <div class="col-xs-8">
                        <div class="tab-content">
                            <div class="tab-pane active" role="tabpanel" id="step1">
                                <form [formGroup]="projectForm">
                                    <div class="block">
                                        <div class="create-header"><p>Название проекта</p></div>
                                        <input id="float-input" type="text"
                                               placeholder="Введите название проекта"
                                               pInputText
                                               maxlength="70"
                                               formControlName="title"
                                               [ngClass]="{'error' : projectForm.controls['title'].hasError('required') && projectForm.controls['title'].touched }"
                                               [(ngModel)]="project.title"
                                               >
                                        <i *ngIf="projectForm.controls['title'].hasError('required') && projectForm.controls['title'].touched"
                                           class="fa fa-exclamation-triangle error-triangle"></i>
                                        <p class="create-desc">Название должно быть лаконичным, уникальным и запоминающимся. Будьте уверены в том, что название проекта отражает его суть.</p>
                                    </div>
                                    <div class="block">
                                        <div class="create-header"><p>Краткое описание проекта</p></div>
                                        <textarea class="textarea" [rows]="20" [cols]="30" pInputTextarea
                                                  autoResize="autoResize" placeholder="Коротко расскажите о проекте" maxlength="160"
                                                  formControlName="description"
                                                  [ngClass]="{'error' : projectForm.controls['description'].hasError('required') && projectForm.controls['description'].touched }"
                                                  >
                                        </textarea>
                                        <i *ngIf="projectForm.controls['description'].hasError('required') && projectForm.controls['description'].touched"
                                           class="fa fa-exclamation-triangle error-triangle"></i>
                                        <p class="create-desc">Опишите в одном предложении цель вашего проекта.</p>
                                    </div>
                                    <div class="block projectLayout">
                                        <div class="create-header header-image"><p>Обложка проекта</p></div>
                                        <div class="text-center">
                                            <img src="{{project.image}}" width="100%"/>
                                        </div>
                                        <button type="button" class="btn btn-show-modal" data-toggle="modal" data-target="#myModal">Изменить обложку</button>
                                    </div>
                                    <div class="block">
                                        <div class="create-header"><p>Дата окончания компании</p></div>
                                        <p-calendar [inputStyle]="{'background-color' : '#f9f9f9','width': '200px'}"
                                                    [showIcon]="true"
                                                    [readonlyInput]="true"
                                                    [required]="true">
                                        </p-calendar>
                                        <span style="width: 100px">{{date3|date}}</span><br>
                                        <i  *ngIf="invalidDate" class="fa fa-exclamation-triangle error-triangle error-triangle-date"></i>

                                    </div>
                                    <div class="block">
                                        <form [formGroup]="finansalGoalForm">
                                            <div class="create-header"><p>Финансовая цель</p></div>
                                            <div class="row">
                                                <div class="col-xs-6">
                                                    <input id="finansal-input-title"
                                                           class="finansal"
                                                           type="text"
                                                           placeholder="Введите название цели"
                                                           pInputText
                                                           maxlength="20"
                                                           formControlName="title">
                                                </div>
                                                <div class="col-xs-6">
                                                    <input id="finansal-input-cost"
                                                           class="finansal"
                                                           type="number"
                                                           placeholder="Введите сумму цели"
                                                           pInputText
                                                           formControlName="cost">
                                                    <span class="currency">BYN</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div  class="col-xs-6">
                                                    <div *ngIf="invalidGoals" class="error-message">Проект должен содержать хотя бы одну финансовую цель</div>
                                                </div>
                                                <div class="col-xs-6">
                                                    <a  class="btn  btn_subscribe btn_add"
                                                        (click)="addGoal(finansalGoalForm)">Добавить</a>
                                                </div>
                                            </div>
                                        </form>
                                        <hr>
                                        <p class="create-desc">Вы можете создавать несколько целей. Общая сумма проекта будет состоять из суммы всех целей</p>
                                    </div>
                                    <div class="block">
                                        <div class="create-header"><p>Тэги проекта</p></div>
                                            <tag-input theme='minimal'
                                                       [maxItems]='5'
                                                       [validators]="validators"
                                                       [errorMessages]="errorMessages"
                                                       placeholder="Enter tags"
                                                       secondaryPlaceholder="Enter tags">
                                            </tag-input>
                                            <p class="create-desc">Название должно быть лаконичным, уникальным и запоминающимся. Будьте уверены в том, что название проекта отражает его суть.</p>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="step2">
                                    <p-editor [style]="{'height':'220px'}"></p-editor>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="step3">
                                <h2>Payway</h2>
                            </div>
                            <div class="tab-pane" role="tabpanel" id="complete">
                                <h2>Success</h2>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                    <div class="col-xs-4" id="preview">
                        <div class="block" style="text-align: center">
                            <a href="#" class="btn  btn_subscribe">Предпросмотр</a>
                        </div>
                        <preview [project]="project"></preview>
                        <div>
                            <div class="create-header finansal-header">Финансовые цели</div>
                            <finansal-goal *ngFor="let goal of goals" [finansalGoal]="goal" (removeFinansalGoal)="deleteGoal($event)"></finansal-goal>

                        </div>

                    </div>
                </div>
                <div class="row main">
                    <div class="end">
                        <hr>
                    </div>
                    <div class="col-xs-8">
                        <a href="#" class="btn  btn_save">Продолжить</a>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" #closeBtn>&times;</button>
                <h4 class="modal-title">Upload</h4>
            </div>
            <div class="modal-body">
                <drag-and-drop [project]="project" (download)="drop()"></drag-and-drop>
                <input type="file" #fileSelect ng2FileSelect [uploader]="uploader"
                       accept="image/*;capture=camera" hidden="true" (change)="upload()"/>
                <button class="btn btn-show-modal right" (click)="load()" style="margin-left: 40%">Выбрать файл</button>
            </div>

        </div>
    </div>
</div>